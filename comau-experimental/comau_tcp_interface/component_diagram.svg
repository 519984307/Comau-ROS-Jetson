<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="301px" preserveAspectRatio="none" style="width:955px;height:301px;" version="1.1" viewBox="0 0 955 301" width="955px" zoomAndPan="magnify"><defs><filter height="300%" id="f1m0awbehjhvu0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster Comau Hardware Interface --><polygon fill="#FFFFFF" filter="url(#f1m0awbehjhvu0)" points="266,34,489,34,496,56.2969,499,56.2969,499,277,266,277,266,34" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="266" x2="496" y1="56.2969" y2="56.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="212" x="270" y="48.9951">Comau Hardware Interface</text><!--cluster Comau C5G controller--><polygon fill="#FFFFFF" filter="url(#f1m0awbehjhvu0)" points="705,40,885,40,892,62.2969,933,62.2969,933,283,705,283,705,40" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="705" x2="892" y1="62.2969" y2="62.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="174" x="709" y="54.9951">Comau C5G controller</text><!--cluster TCP/IP comm--><path d="M546,35 C546,32 548,30 551,30 C554,30 556,32 556,35 C556,32 558,30 561,30 C564,30 566,32 566,35 C566,32 568,30 571,30 C574,30 576,32 576,35 C576,32 578,30 581,30 C584,30 586,32 586,35 C586,32 588,30 591,30 C594,30 596,32 596,35 C596,32 598,30 601,30 C604,30 606,32 606,35 C606,32 608,30 611,30 C614,30 616,32 616,35 C616,32 618,30 621,30 C624,30 626,32 626,35 C626,32 628,30 631,30 C634,30 636,32 636,35 C636,32 638,30 641,30 C644,30 646,32 646,35 C646,32 648,30 651,30 C654,30 656,32 656,35 C659,35 661,37 661,40 C661,43 659,45 656,45 C659,45 661,47 661,50 C661,53 659,55 656,55 C659,55 661,57 661,60 C661,63 659,65 656,65 C659,65 661,67 661,70 C661,73 659,75 656,75 C659,75 661,77 661,80 C661,83 659,85 656,85 C659,85 661,87 661,90 C661,93 659,95 656,95 C659,95 661,97 661,100 C661,103 659,105 656,105 C659,105 661,107 661,110 C661,113 659,115 656,115 C659,115 661,117 661,120 C661,123 659,125 656,125 C659,125 661,127 661,130 C661,133 659,135 656,135 C659,135 661,137 661,140 C661,143 659,145 656,145 C659,145 661,147 661,150 C661,153 659,155 656,155 C659,155 661,157 661,160 C661,163 659,165 656,165 C659,165 661,167 661,170 C661,173 659,175 656,175 C659,175 661,177 661,180 C661,183 659,185 656,185 C659,185 661,187 661,190 C661,193 659,195 656,195 C659,195 661,197 661,200 C661,203 659,205 656,205 C656,208 653,210 651,210 C648,210 646,208 646,205 C646,208 643,210 641,210 C638,210 636,208 636,205 C636,208 633,210 631,210 C628,210 626,208 626,205 C626,208 623,210 621,210 C618,210 616,208 616,205 C616,208 613,210 611,210 C608,210 606,208 606,205 C606,208 603,210 601,210 C598,210 596,208 596,205 C596,208 593,210 591,210 C588,210 586,208 586,205 C586,208 583,210 581,210 C578,210 576,208 576,205 C576,208 573,210 571,210 C568,210 566,208 566,205 C566,208 563,210 561,210 C558,210 556,208 556,205 C556,208 553,210 551,210 C548,210 546,208 546,205 C543,205 541,203 541,200 C541,197 543,195 546,195 C543,195 541,193 541,190 C541,187 543,185 546,185 C543,185 541,183 541,180 C541,177 543,175 546,175 C543,175 541,173 541,170 C541,167 543,165 546,165 C543,165 541,163 541,160 C541,157 543,155 546,155 C543,155 541,153 541,150 C541,147 543,145 546,145 C543,145 541,143 541,140 C541,137 543,135 546,135 C543,135 541,133 541,130 C541,127 543,125 546,125 C543,125 541,123 541,120 C541,117 543,115 546,115 C543,115 541,113 541,110 C541,107 543,105 546,105 C543,105 541,103 541,100 C541,97 543,95 546,95 C543,95 541,93 541,90 C541,87 543,85 546,85 C543,85 541,83 541,80 C541,77 543,75 546,75 C543,75 541,73 541,70 C541,67 543,65 546,65 C543,65 541,63 541,60 C541,57 543,55 546,55 C543,55 541,53 541,50 C541,47 543,45 546,45 C543,45 541,43 541,40 C541,37 543,35 546,35 " fill="#FFFFFF" filter="url(#f1m0awbehjhvu0)" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="102" x="551" y="53.9951">TCP/IP comm</text><!--cluster ROS comm--><path d="M17,23 C17,20 19,18 22,18 C25,18 27,20 27,23 C27,20 29,18 32,18 C35,18 37,20 37,23 C37,20 39,18 42,18 C45,18 47,20 47,23 C47,20 49,18 52,18 C55,18 57,20 57,23 C57,20 59,18 62,18 C65,18 67,20 67,23 C67,20 69,18 72,18 C75,18 77,20 77,23 C77,20 79,18 82,18 C85,18 87,20 87,23 C87,20 89,18 92,18 C95,18 97,20 97,23 C97,20 99,18 102,18 C105,18 107,20 107,23 C107,20 109,18 112,18 C115,18 117,20 117,23 C117,20 119,18 122,18 C125,18 127,20 127,23 C127,20 129,18 132,18 C135,18 137,20 137,23 C137,20 139,18 142,18 C145,18 147,20 147,23 C147,20 149,18 152,18 C155,18 157,20 157,23 C157,20 159,18 162,18 C165,18 167,20 167,23 C167,20 169,18 172,18 C175,18 177,20 177,23 C177,20 179,18 182,18 C185,18 187,20 187,23 C187,20 189,18 192,18 C195,18 197,20 197,23 C197,20 199,18 202,18 C205,18 207,20 207,23 C207,20 209,18 212,18 C215,18 217,20 217,23 C220,23 222,25 222,28 C222,31 220,33 217,33 C220,33 222,35 222,38 C222,41 220,43 217,43 C220,43 222,45 222,48 C222,51 220,53 217,53 C220,53 222,55 222,58 C222,61 220,63 217,63 C220,63 222,65 222,68 C222,71 220,73 217,73 C220,73 222,75 222,78 C222,81 220,83 217,83 C220,83 222,85 222,88 C222,91 220,93 217,93 C220,93 222,95 222,98 C222,101 220,103 217,103 C220,103 222,105 222,108 C222,111 220,113 217,113 C220,113 222,115 222,118 C222,121 220,123 217,123 C220,123 222,125 222,128 C222,131 220,133 217,133 C220,133 222,135 222,138 C222,141 220,143 217,143 C220,143 222,145 222,148 C222,151 220,153 217,153 C220,153 222,155 222,158 C222,161 220,163 217,163 C220,163 222,165 222,168 C222,171 220,173 217,173 C220,173 222,175 222,178 C222,181 220,183 217,183 C220,183 222,185 222,188 C222,191 220,193 217,193 C220,193 222,195 222,198 C222,201 220,203 217,203 C220,203 222,205 222,208 C222,211 220,213 217,213 C220,213 222,215 222,218 C222,221 220,223 217,223 C220,223 222,225 222,228 C222,231 220,233 217,233 C220,233 222,235 222,238 C222,241 220,243 217,243 C220,243 222,245 222,248 C222,251 220,253 217,253 C220,253 222,255 222,258 C222,261 220,263 217,263 C220,263 222,265 222,268 C222,271 220,273 217,273 C220,273 222,275 222,278 C222,281 220,283 217,283 C217,286 214,288 212,288 C209,288 207,286 207,283 C207,286 204,288 202,288 C199,288 197,286 197,283 C197,286 194,288 192,288 C189,288 187,286 187,283 C187,286 184,288 182,288 C179,288 177,286 177,283 C177,286 174,288 172,288 C169,288 167,286 167,283 C167,286 164,288 162,288 C159,288 157,286 157,283 C157,286 154,288 152,288 C149,288 147,286 147,283 C147,286 144,288 142,288 C139,288 137,286 137,283 C137,286 134,288 132,288 C129,288 127,286 127,283 C127,286 124,288 122,288 C119,288 117,286 117,283 C117,286 114,288 112,288 C109,288 107,286 107,283 C107,286 104,288 102,288 C99,288 97,286 97,283 C97,286 94,288 92,288 C89,288 87,286 87,283 C87,286 84,288 82,288 C79,288 77,286 77,283 C77,286 74,288 72,288 C69,288 67,286 67,283 C67,286 64,288 62,288 C59,288 57,286 57,283 C57,286 54,288 52,288 C49,288 47,286 47,283 C47,286 44,288 42,288 C39,288 37,286 37,283 C37,286 34,288 32,288 C29,288 27,286 27,283 C27,286 24,288 22,288 C19,288 17,286 17,283 C14,283 12,281 12,278 C12,275 14,273 17,273 C14,273 12,271 12,268 C12,265 14,263 17,263 C14,263 12,261 12,258 C12,255 14,253 17,253 C14,253 12,251 12,248 C12,245 14,243 17,243 C14,243 12,241 12,238 C12,235 14,233 17,233 C14,233 12,231 12,228 C12,225 14,223 17,223 C14,223 12,221 12,218 C12,215 14,213 17,213 C14,213 12,211 12,208 C12,205 14,203 17,203 C14,203 12,201 12,198 C12,195 14,193 17,193 C14,193 12,191 12,188 C12,185 14,183 17,183 C14,183 12,181 12,178 C12,175 14,173 17,173 C14,173 12,171 12,168 C12,165 14,163 17,163 C14,163 12,161 12,158 C12,155 14,153 17,153 C14,153 12,151 12,148 C12,145 14,143 17,143 C14,143 12,141 12,138 C12,135 14,133 17,133 C14,133 12,131 12,128 C12,125 14,123 17,123 C14,123 12,121 12,118 C12,115 14,113 17,113 C14,113 12,111 12,108 C12,105 14,103 17,103 C14,103 12,101 12,98 C12,95 14,93 17,93 C14,93 12,91 12,88 C12,85 14,83 17,83 C14,83 12,81 12,78 C12,75 14,73 17,73 C14,73 12,71 12,68 C12,65 14,63 17,63 C14,63 12,61 12,58 C12,55 14,53 17,53 C14,53 12,51 12,48 C12,45 14,43 17,43 C14,43 12,41 12,38 C12,35 14,33 17,33 C14,33 12,31 12,28 C12,25 14,23 17,23 " fill="#FFFFFF" filter="url(#f1m0awbehjhvu0)" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84" x="76" y="41.9951">ROS comm</text><!--entity joint_state_controller--><rect fill="#FEFECE" filter="url(#f1m0awbehjhvu0)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="183" x="290.5" y="61"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="453.5" y="66"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="451.5" y="68"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="451.5" y="72"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="305.5" y="93.9951">joint_state_controller</text><!--entity joint_motion_server--><rect fill="#FEFECE" filter="url(#f1m0awbehjhvu0)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="295" y="142"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="449" y="147"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="447" y="149"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="447" y="153"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="134" x="310" y="174.9951">joint_motion_server</text><!--entity cartesian_motion_server--><rect fill="#FEFECE" filter="url(#f1m0awbehjhvu0)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="208" x="278" y="223"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="466" y="228"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="464" y="230"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="464" y="234"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="168" x="293" y="255.9951">cartesian_motion_server</text><!--entity state_server (NOHOLD) --><rect fill="#FEFECE" filter="url(#f1m0awbehjhvu0)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="199" x="719.5" y="67"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="898.5" y="72"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="896.5" y="74"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="896.5" y="78"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="159" x="734.5" y="99.9951">state_server (NOHOLD)</text><!--entity motion_server (NOHOLD)--><rect fill="#FEFECE" filter="url(#f1m0awbehjhvu0)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="212" x="713" y="148"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="905" y="153"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="903" y="155"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="903" y="159"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="172" x="728" y="180.9951">motion_server (NOHOLD)</text><!--entity motion_handler (HOLD) --><rect fill="#FEFECE" filter="url(#f1m0awbehjhvu0)" height="46.2969" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="719" y="229"/><rect fill="#FEFECE" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="15" x="899" y="234"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="897" y="236"/><rect fill="#FEFECE" height="2" style="stroke: #A80036; stroke-width: 1.5;" width="4" x="897" y="240"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="160" x="734" y="261.9951">motion_handler (HOLD)</text><!--entity StateClient--><ellipse cx="602" cy="84" fill="#FEFECE" filter="url(#f1m0awbehjhvu0)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="564.5" y="113.9951">StateClient</text><!--entity MotionClient--><ellipse cx="602" cy="177" fill="#FEFECE" filter="url(#f1m0awbehjhvu0)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="559" y="206.9951">MotionClient</text><!--entity joint_state--><ellipse cx="118" cy="72" fill="#FEFECE" filter="url(#f1m0awbehjhvu0)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="56.5" y="101.9951">joint_state (Topic)</text><!--entity movej--><ellipse cx="118" cy="165" fill="#FEFECE" filter="url(#f1m0awbehjhvu0)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="149" x="43.5" y="194.9951">MoveToJoints (Action)</text><!--entity movec--><ellipse cx="118" cy="258" fill="#FEFECE" filter="url(#f1m0awbehjhvu0)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="177" x="29.5" y="287.9951">MoveToCartesian (Action)</text><!--link motion_handler (HOLD)  to motion_server (NOHOLD)--><path d="M819,228.9023 C819,217.2917 819,205.6811 819,194.0705 " fill="none" id="motion_handler (HOLD) -motion_server (NOHOLD)" style="stroke: #A80036; stroke-width: 1.0;"/><!--link StateClient to state_server (NOHOLD) --><path d="M611.0479,84.2502 C629.9781,84.7736 675.6393,86.0361 719.3668,87.2452 " fill="none" id="StateClient-state_server (NOHOLD) " style="stroke: #A80036; stroke-width: 1.0;"/><!--link joint_state_controller to StateClient--><path d="M473.7067,84 C517.1488,84 564.5073,84 587.6468,84 " fill="none" id="joint_state_controller-StateClient" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="592.7306,84,583.7306,80,587.7306,84,583.7306,88,592.7306,84" style="stroke: #A80036; stroke-width: 1.0;"/><!--link MotionClient to motion_server (NOHOLD)--><path d="M611.0479,176.7498 C629.0557,176.2519 671.2527,175.0852 712.9639,173.9319 " fill="none" id="MotionClient-motion_server (NOHOLD)" style="stroke: #A80036; stroke-width: 1.0;"/><!--link joint_motion_server to MotionClient--><path d="M469.2658,169.76 C513.9129,172.1952 563.7848,174.9155 587.6963,176.2198 " fill="none" id="joint_motion_server-MotionClient" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="592.9305,176.5053,584.1617,172.0211,587.9379,176.233,583.726,180.0092,592.9305,176.5053" style="stroke: #A80036; stroke-width: 1.0;"/><!--link cartesian_motion_server to MotionClient--><path d="M455.5627,222.9281 C503.5762,207.8693 562.0311,189.5357 588.1896,181.3315 " fill="none" id="cartesian_motion_server-MotionClient" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="592.978,179.8296,583.1934,178.7065,588.2072,181.326,585.5877,186.3398,592.978,179.8296" style="stroke: #A80036; stroke-width: 1.0;"/><!--link joint_state to joint_state_controller--><path d="M132.1049,72.6411 C161.5816,73.981 231.8287,77.174 290.361,79.8346 " fill="none" id="joint_state-joint_state_controller" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="127.0875,72.4131,135.8965,76.8178,132.0823,72.6402,136.2599,68.8261,127.0875,72.4131" style="stroke: #A80036; stroke-width: 1.0;"/><!--link movej to joint_motion_server--><path d="M132.2411,165 C162.5738,165 235.6306,165 294.9414,165 " fill="none" id="movej-joint_motion_server" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="127.0875,165,136.0875,169,132.0875,165,136.0875,161,127.0875,165" style="stroke: #A80036; stroke-width: 1.0;"/><!--link movec to cartesian_motion_server--><path d="M132.4223,257.3444 C159.964,256.0925 222.2475,253.2615 277.7009,250.7409 " fill="none" id="movec-cartesian_motion_server" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="127.0875,257.5869,136.2599,261.1739,132.0823,257.3598,135.8965,253.1822,127.0875,257.5869" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml component_diagram
skinparam componentStyle uml2
skinparam defaultTextAlignment center

left to right direction

package "Comau Hardware Interface " {
    [joint_state_controller]
    [joint_motion_server]
    [cartesian_motion_server]
    ' [admittance_control_server] #Gold
}

package "Comau C5G controller"{
    [state_server (NOHOLD) ]
    [motion_server (NOHOLD)] -left- [motion_handler (HOLD) ]
    ' [admittance_control_server (NOHOLD)] #Gold
    ' [admittance_control_handler (HOLD) ] #GOld
    ' [admittance_control_server (NOHOLD)] -left- [admittance_control_handler (HOLD) ]
}

cloud "TCP/IP comm"{
[state_server (NOHOLD) ] -up-  StateClient
[joint_state_controller] -down-> StateClient


[motion_server (NOHOLD)] -up- MotionClient
[joint_motion_server] -down-> MotionClient
[cartesian_motion_server] -down-> MotionClient

' () AdmittanceControlClient #Gold
' [admittance_control_server (NOHOLD)] -up- AdmittanceControlClient
' [admittance_control_server] -down-> AdmittanceControlClient

}
cloud "ROS comm"{
() "joint_state (Topic)" as joint_state
[joint_state_controller] -up-> joint_state

' () "AdmittanceControl (Action)" as AdmittanceControlAction #Gold
' [admittance_control_server] -up-> AdmittanceControlAction

() "MoveToJoints (Action)" as movej
() "MoveToCartesian (Action)" as movec
[joint_motion_server] -up-> movej
[cartesian_motion_server] -up-> movec
}
@enduml

PlantUML version 1.2017.15(Mon Jul 03 09:45:34 PDT 2017)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10-post-Ubuntu-0ubuntu118.04.1
Operating System: Linux
OS Version: 4.15.0-118-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>